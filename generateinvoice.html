<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PayJigawa</title>

    <!-- FAVION ICON -->
    <link
      rel="shortcut icon"
      href="assets/img/favicon.png"
      type="image/x-icon"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/responsive.css" />
    <link rel="stylesheet" href="assets/fontawesome/css/all.css" />
    <link rel="stylesheet" href="assets/js/aos-master/dist/aos.css" />
    <link
      id="pagestyle"
      href="users/assets/css/argon-dashboard.min.css"
      rel="stylesheet"
    />

    <style>
      .multisteps-container {
        position: relative;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      .form-content {
        flex-grow: 1;
        padding-bottom: 80px; /* Space for sticky nav */
      }
      .sticky-navigation {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: white;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        padding: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000;
      }
      .continue-btn {
        width: 100%;
        padding: 12px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      .back-btn {
        margin-right: 10px;
        padding: 12px;
        background-color: #f8f9fa;
        color: #333;
        border: 1px solid #ddd;
        border-radius: 5px;
        cursor: pointer;
      }
      .form-panel {
        display: none;
      }
      .form-panel.active {
        display: block;
      }
      /* .progress-bar {
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
        position: relative;
      } */
      /* .progress-step {
        flex: 1;
        text-align: center;
        padding: 10px;
        position: relative;
        color: #999;
      } */
      /* .progress-step::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background-color: #e0e0e0;
      } */
      /* .progress-step.active::before {
        background-color: #007bff;
      }
      .progress-step.completed::before {
        background-color: #28a745;
      } */
    </style>
  </head>

  <body>
    <header class="flex justify-between md:px-10 bg-white py-3">
      <div
        class="container flex justify-between items-center"
        id="theHeader"
      ></div>
    </header>

    <div class="container flex-col justify-center">
      <!-- Content -->
      <div class="container-fluid py-4 mt-20">
        <div class="row">
          <div class="col-lg-8 mx-auto">
            <h1 class="text-center text-3xl my-3 fontBold">Pay Your Tax</h1>
            <!-- <div class="row">
              <div class="col-lg-6">
                <div class="">
                  <button
                    class="flex p-0 textPrimary items-center gap-2"
                    onclick="history.go(-1)"
                  >
                    <iconify-icon icon="eva:arrow-back-outline"></iconify-icon>
                    <span>Go back</span>
                  </button>
                </div>
              </div>
            </div> -->

            <div class="card">
              <div class="multisteps-form">
                <div class="row">
                  <div class="col-12 col-lg-12 mx-auto mt-4 mb-2">
                    <div class="multisteps-form__progress progress-bar">
                      <button
                        class="multisteps-form__progress-btn progress-step active js-active"
                        type="button"
                        title="Your Details"
                      >
                        <span>Your Details</span>
                      </button>
                      <button
                        class="multisteps-form__progress-btn progress-step"
                        type="button"
                        title="Personal Details"
                      >
                        <span>Personal Details</span>
                      </button>
                      <button
                        class="multisteps-form__progress-btn progress-step"
                        type="button"
                        title="Billing Information"
                      >
                        <span>Billing Information</span>
                      </button>
                      <button
                        class="multisteps-form__progress-btn progress-step"
                        type="button"
                        title="Verify"
                      >
                        <span>Verify</span>
                      </button>
                      <button
                        class="multisteps-form__progress-btn progress-step"
                        type="button"
                        title="Generate Invoice"
                      >
                        <span>Generate Invoice</span>
                      </button>
                      <button
                        class="multisteps-form__progress-btn progress-step"
                        type="button"
                        title="Make Payment"
                      >
                        <span>Make Payment</span>
                      </button>
                    </div>
                  </div>
                </div>
                <!--form panels-->
                <div class="row">
                  <div class="col-12 col-lg-12 m-auto">
                    <form class="multisteps-form__form">
                      <!--single form panel-->
                      <div
                        class="multisteps-form__panel p-3 border-radius-xl bg-white js-active"
                        data-animation="FadeIn"
                      >
                        <div class="multisteps-form__content">
                          <div class="row mt-3">
                            <div action="" class="w-full h-fit">
                              <div>
                                <div id="text-color">
                                  <h1 class="fontBold text-2xl">
                                    Generate Invoice
                                  </h1>
                                  <h1 class="my-3">Your details</h1>
                                </div>

                                <div class="form-group my-4">
                                  <label for="tin/email"
                                    >Enter Tin or Email*</label
                                  >
                                  <input
                                    type="text"
                                    class="form-control"
                                    id="tinOrEmail"
                                    required
                                  />
                                </div>

                                <div
                                  class="form-group flex gap-4"
                                  id="theFetchBtns"
                                >
                                  <button
                                    type="button"
                                    class="outline-btn js-btn-next"
                                    onclick="fillManually()"
                                  >
                                    Fill Manually
                                  </button>
                                  <button
                                    onclick="fetchUserDetails()"
                                    class="button text-white js-btn-next"
                                    type="button"
                                  >
                                    Fetch Details
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <!-- <div class="sticky-navigation">
                            <button
                              type="button"
                              class="outline-btn js-btn-next"
                              onclick="fillManually()"
                            >
                              Fill Manually
                            </button>
                            <button
                              onclick="fetchUserDetails()"
                              class="button text-white js-btn-next"
                              type="button"
                            >
                              Fetch Details
                            </button>
                          </div> -->
                        </div>
                      </div>
                      <!--single form panel-->
                      <div
                        class="multisteps-form__panel p-3 border-radius-xl bg-white"
                        data-animation="FadeIn"
                      >
                        <div class="multisteps-form__content">
                          <div class="flex items-center">
                            <div action="" class="w-full">
                              <h1 class="fontBold text-2xl">
                                Generate Invoice
                              </h1>
                              <h1 class="mb-3 mt-3">Personal Details</h1>

                              <div class="form-group mb-4">
                                <label for="">Select Your Category*</label>
                                <select
                                  class="form-select"
                                  required
                                  id="category"
                                >
                                  <option disabled selected>Select--</option>
                                  <option value="2">Individual</option>
                                  <option value="1">Corporate</option>
                                  <option value="3">State Agency</option>
                                  <option value="4">Federal Agency</option>
                                </select>
                              </div>

                              <div
                                class="sm:flex items-center mb-4 gap-2"
                                id="theName"
                              >
                                <div class="form-group w-full">
                                  <label for="">First Name *</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    required
                                    placeholder="Enter your first name"
                                  />
                                </div>

                                <div class="form-group w-full">
                                  <label for="">Surname *</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    required
                                    data-name="surname"
                                    placeholder="Enter your surname"
                                  />
                                </div>
                              </div>

                              <div
                                class="sm:flex items-center mb-4 gap-2"
                                id="theEmail"
                              >
                                <div class="form-group w-full">
                                  <label for="">Email *</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    required
                                    data-name="email"
                                    placeholder="Enter your Email Address"
                                  />
                                </div>

                                <div class="form-group w-full">
                                  <label for="">Phone Number *</label>
                                  <input
                                    type="number"
                                    class="form-control"
                                    id="phonenumber"
                                    minlength="11"
                                    maxlength="11"
                                    required
                                    data-name="phone"
                                    placeholder="Your 11-digits phone number"
                                  />
                                </div>
                              </div>

                              <div class="sm:flex items-center mb-4 gap-2">
                                <div class="form-group w-full" id="theTin">
                                  <label for="">TIN (Optional)</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    id="tin"
                                    placeholder="Enter your TIN"
                                  />
                                </div>

                                <div class="form-group w-full">
                                  <label for="">State*</label>
                                  <select
                                    name=""
                                    id="selectState"
                                    class="form-select"
                                  >
                                    <option value="Jigawa">Jigawa</option>
                                  </select>
                                </div>
                              </div>

                              <div class="sm:flex items-center mb-4 gap-2">
                                <div class="form-group w-full">
                                  <label for="">LGA*</label>
                                  <select
                                    name=""
                                    id="selectLGA"
                                    class="form-select"
                                    required
                                  ></select>
                                </div>

                                <div class="form-group w-full" id="theLga">
                                  <label for="">Address*</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    minlength="10"
                                    required
                                    placeholder=" Enter your address"
                                  />
                                </div>
                              </div>

                              <button
                                class="button w-full js-btn-next"
                                type="button"
                              >
                                Continue
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--single form panel-->
                      <div
                        class="multisteps-form__panel p-3 border-radius-xl bg-white"
                        data-animation="FadeIn"
                      >
                        <div class="multisteps-form__content">
                          <div class="flex justify-center items-center h-full">
                            <div action="" class="w-full secondForm">
                              <h1 class="fontBold text-2xl">
                                Generate Invoice
                              </h1>
                              <h1 class="mb-3 mt-3">Billing Information</h1>

                              <div class="form-group mb-2">
                                <label for="">Select MDA *</label>
                                <select
                                  onchange="updateSelectedOption1(this)"
                                  class="revHeadInputSel form-select mda"
                                  required
                                  name=""
                                  id="mda"
                                ></select>
                              </div>

                              <hr class="my-3" />

                              <div class="flex items-center gap-2">
                                <div class="form-group w-8/12">
                                  <label for=""
                                    >What Do You Want To Pay For?*</label
                                  >
                                  <select
                                    onchange="updateSelectedOption()"
                                    class="revHeadInputSel h-[40px] form-select genInv revHeadsss"
                                    required
                                    name=""
                                    id="rev_heads"
                                  ></select>
                                </div>

                                <div class="form-group w-4/12">
                                  <label for="">Amount To Be Paid*</label>
                                  <input
                                    type="text"
                                    class="form-control genInv h-[40px] thePaymentInput amountTopay amountTopa"
                                    id="amountTopay"
                                  />
                                </div>
                              </div>

                              <div class="hidden justify-end" id="otherSec">
                                <button
                                  onclick="addInput()"
                                  type="button"
                                  class="textPrimary flex gap-2 items-center"
                                >
                                  <iconify-icon
                                    icon="ic:outline-plus"
                                  ></iconify-icon>
                                  Add Item
                                </button>
                              </div>

                              <div id="moreInput" class="mb-4"></div>

                              <div class="form-group mb-3">
                                <label for="description">Description*</label>
                                <input
                                  type="text"
                                  class="form-control genInv"
                                  id="thedescripInput"
                                  required
                                />
                              </div>

                              <button
                                class="button w-full js-btn-next"
                                type="button"
                              >
                                Continue
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--single form panel-->
                      <div
                        class="multisteps-form__panel p-3 border-radius-xl bg-white"
                        data-animation="FadeIn"
                      >
                        <div class="multisteps-form__content">
                          <div class="flex justify-center items-center h-full">
                            <div action="" class="w-full secondForm">
                              <h1 class="mb-3 mt-3">Billing Details</h1>
                              <div class="shadow-md p-3 bg-[#E9ECEF]" id="bill">
                                <div class="flex space-x-3">
                                  <p></p>
                                  <p></p>
                                </div>
                              </div>
                              <h1 class="mb-3 mt-3">User Details</h1>
                              <div
                                class="sm:flex items-center mb-4 gap-2"
                                id="theName2"
                              >
                                <div class="form-group w-full">
                                  <label for="">First Name</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    readonly
                                    data-name="first_name"
                                  />
                                </div>

                                <div class="form-group w-full">
                                  <label for="">Surname</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    readonly
                                    data-name="surname"
                                  />
                                </div>
                              </div>

                              <div class="sm:flex items-center mb-4 gap-2">
                                <div class="form-group w-full">
                                  <label for="">Email</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    readonly
                                    data-name="email"
                                  />
                                </div>

                                <div class="form-group w-full">
                                  <label for="">Phone Number *</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    readonly
                                    data-name="phone"
                                  />
                                </div>
                              </div>

                              <div class="sm:flex items-center mb-4 gap-2">
                                <div class="form-group w-full">
                                  <label for="">TIN (Optional)</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    readonly
                                    data-name="tin"
                                  />
                                </div>

                                <div class="form-group w-full">
                                  <label for="">State</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    readonly
                                    data-name="state"
                                  />
                                </div>
                              </div>

                              <div class="sm:flex items-center mb-4 gap-2">
                                <div class="form-group w-full">
                                  <label for="">LGA</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    readonly
                                    data-name="lga"
                                  />
                                </div>

                                <div class="form-group w-full">
                                  <label for="">Address</label>
                                  <input
                                    type="text"
                                    class="form-control"
                                    readonly
                                    data-name="address"
                                  />
                                </div>
                              </div>

                              <button
                                class="button w-full js-btn-next"
                                type="button"
                                id="generating_inv"
                              >
                                Generate Invoice
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--single form panel-->
                      <div
                        class="multisteps-form__panel p-3 border-radius-xl bg-white"
                        data-animation="FadeIn"
                      >
                        <div class="multisteps-form__content">
                          <div class="flex justify-center items-center h-full">
                            <div
                              action=""
                              class="w-[100%] secondForm table-responsive"
                            >
                              <div class="invoiceContainer flex justify-center">
                                <h1 class="text-dark my-5">Coming Soon</h1>
                              </div>

                              <div class="flex justify-center lg:px-4">
                                <div class="w-full">
                                  <div class="mt-4">
                                    <p class="text-base lg:text-xl">
                                      Note: You can make part payment by editing
                                      amount you are to pay
                                    </p>
                                  </div>
                                  <div
                                    class="flex w-full justify-between flex-wrap mt-4 gap-3"
                                  >
                                    <div
                                      class="sm:flex w-full gap-3 items-center"
                                    >
                                      <button
                                        class="outline-btn flex gap-3 items-center"
                                        onclick="downloadInvoice('invoiceCard')"
                                      >
                                        <iconify-icon
                                          icon="mdi:printer-outline"
                                          class="text-xl"
                                        ></iconify-icon>
                                        <span>Download Invoice</span>
                                      </button>

                                      <button
                                        class="outline-btn flex gap-3 items-center"
                                        onclick="printInvoice('invoiceCard')"
                                      >
                                        <iconify-icon
                                          icon="mdi:printer-outline"
                                          class="text-xl"
                                        ></iconify-icon>
                                        <span>Print Invoice</span>
                                      </button>
                                      <a
                                        class="button flex gap-3 items-center lg:px-10 js-btn-next"
                                        type="button"
                                      >
                                        Proceed
                                        <iconify-icon
                                          icon="eva:arrow-forward-outline"
                                          class="text-xl"
                                        ></iconify-icon>
                                      </a>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--single form panel-->
                      <div
                        class="multisteps-form__panel p-3 border-radius-xl bg-white"
                        data-animation="FadeIn"
                      >
                        <div class="multisteps-form__content">
                          <div class="flex justify-center items-center h-full">
                            <div action="" class="w-full secondForm">
                              <div class="invoiceContainer flex justify-center">
                                <h1 class="text-dark my-10">Coming Soon</h1>
                              </div>
                              <!-- <div id="makePayment">
                              </div> -->
                              <button
                                class="button w-full js-btn-next"
                                type="button"
                              >
                                Continue
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--single form panel-->
                      <div
                        class="multisteps-form__panel p-3 border-radius-xl bg-white"
                        data-animation="FadeIn"
                      >
                        <div class="multisteps-form__content">
                          <div class="flex items-center">
                            <div
                              class="invoiceContainer w-full table-responsive flex justify-center"
                            >
                              <h1 class="text-dark">Coming Soon</h1>
                            </div>
                          </div>

                          <div class="flex justify-center">
                            <div class="w-full">
                              <!-- <div class="mt-4">
                                <p class="text-xl">Note: You can make part payment by editing amount you are to pay</p>
                              </div> -->
                              <div
                                class="flex justify-between flex-wrap gap-3 mt-4"
                              >
                                <div class="flex gap-3 items-center">
                                  <button
                                    class="outline-btn flex gap-3 items-center"
                                    onclick="downloadInvoice('receiptCard')"
                                  >
                                    <iconify-icon
                                      icon="mdi:printer-outline"
                                      class="text-xl"
                                    ></iconify-icon>
                                    <span>Download Receipt</span>
                                  </button>

                                  <button
                                    class="outline-btn flex gap-3 items-center"
                                    onclick="printInvoice('receiptCard')"
                                  >
                                    <iconify-icon
                                      icon="mdi:printer-outline"
                                      class="text-xl"
                                    ></iconify-icon>
                                    <span>Print Receipt</span>
                                  </button>
                                </div>

                                <a
                                  href="index.html"
                                  class="button flex gap-3 items-center"
                                >
                                  <span>Return to home page</span>
                                  <iconify-icon
                                    icon="eva:arrow-forward-outline"
                                    class="text-xl"
                                  ></iconify-icon>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="assets/js/jquery.js"></script>
    <script src="assets/bootstrap/js/bootstrap.bundle.js"></script>
    <script src="assets/js/aos-master/dist/aos.js"></script>
    <script src="assets/js/sweetalert2/dist/sweetalert2.all.min.js"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.2/iconify-icon.min.js"></script>
    <script>
      AOS.init();
    </script>
    <script src="assets/js/nav.js"></script>
    <script src="assets/js/payment.js"></script>
    <script src="assets/js/tabHandler.js"></script>
    <!-- <script src="assets/js/invoice.js"></script> -->
    <!-- <script src="assets/js/generateinvoice.js"></script> -->
    <script src="assets/js/landingcms.js"></script>
    <script src="assets/js/multistep-form.js"></script>

    <script>
      $(document).ready(function () {
        //change selectboxes to selectize mode to be searchable
        $(".revHeadInputSel").select2();
      });
    </script>

    <script>
      const amountInp = document.querySelector(".amountTopay");

      amountInp.addEventListener("input", function (e) {
        let inputVal = e.target.value;

        // Immediately return if the first character is a dot to allow ".xx" inputs
        if (inputVal === ".") {
          return;
        }

        // Normalize the input by removing commas and any non-numeric characters except for the decimal point
        let normalizedInput = inputVal
          .replace(/,/g, "")
          .replace(/[^0-9.]/g, "");

        // Split the input into whole and decimal parts
        let [whole, decimal] = normalizedInput.split(".");

        // Ensure the whole part is only numeric
        whole = whole.replace(/\D/g, "");

        // If there's a decimal part, limit it to two digits
        if (decimal) {
          decimal = decimal.substring(0, 2); // Limit decimal part to two digits
        }

        // Format the whole part with commas
        let formattedWhole = whole.replace(/\B(?=(\d{3})+(?!\d))/g, ",");

        // Reconstruct the formatted value
        e.target.value =
          decimal !== undefined
            ? `${formattedWhole}.${decimal}`
            : formattedWhole;
      });
    </script>
  </body>
</html>
